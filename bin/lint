#!/usr/bin/env bash
set -euo pipefail

echo "[lint] Installing gems (if needed) ..."
docker compose run --rm ruby bundle >/dev/null

echo "[lint] Running StandardRB --fix ..."
docker compose run --rm ruby bundle exec standardrb --fix .

echo "[lint] Verifying StandardRB ..."
docker compose run --rm ruby bundle exec standardrb .

echo "[lint] Verifying RuboCop ..."
docker compose run --rm ruby bundle exec rubocop --config ../.rubocop.yml .

echo "[lint] All linters passed."
